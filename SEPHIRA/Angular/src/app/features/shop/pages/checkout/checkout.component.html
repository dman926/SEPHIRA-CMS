<section id="cart-section">
	<mat-list role="list">
		<mat-list-item *ngIf="(cart.cart$ | async)?.length === 0">No items in your cart!</mat-list-item>
		<mat-list-item *ngFor="let item of (cart.cart$ | async)">
			{{ item.name }}
			<span class="spacer"></span>
			<div class="qty-selector">
				<button mat-icon-button (click)="cart.removeFromCart(item.id, 1)">
					<mat-icon>remove</mat-icon>
				</button>
				<span class="spacer"></span>
				{{ item.qty }}
				<span class="spacer"></span>
				<button mat-icon-button (click)="cart.removeFromCart(item.id, -1)">
					<mat-icon>add</mat-icon>
				</button>
			</div>
		</mat-list-item>
	</mat-list>
	<hr />
	<button mat-icon-button (click)="selectedPaymentGateway=''" *ngIf="selectedPaymentGateway !== ''"><mat-icon>arrow_back</mat-icon></button>
	<div [ngSwitch]="selectedPaymentGateway" *ngIf="showCheckoutButtons">
		<div [@switchTrigger]="'fadeIn'" *ngSwitchCase="'stripe'">
			<sephira-stripe></sephira-stripe>
		</div>
		<div [@switchTrigger]="'fadeIn'" *ngSwitchCase="'paypal'">
			<sephira-paypal></sephira-paypal>
		</div>
		<div [@switchTrigger]="'fadeIn'" *ngSwitchCase="'coinbase'">
			<sephira-coinbase></sephira-coinbase>
		</div>
		<div [@switchTrigger]="'fadeIn'" *ngSwitchCase="'nowpayments'">
			<sephira-nowpayments></sephira-nowpayments>
		</div>
		<div id="payment-gateways" [@switchTrigger]="'fadeIn'" *ngSwitchDefault>
			<h2>Checkout With</h2>
			<mat-grid-list cols="2">
				<mat-grid-tile *ngIf="enableStripe">
					<button mat-icon-button (click)="selectedPaymentGateway='stripe'">
						<mat-icon svgIcon="stripe"></mat-icon>
					</button>
				</mat-grid-tile>
				<mat-grid-tile *ngIf="enablePayPal">
					<button mat-icon-button (click)="selectedPaymentGateway='paypal'">
						<mat-icon svgIcon="paypal"></mat-icon>
					</button>
				</mat-grid-tile>
				<mat-grid-tile *ngIf="enableCoinbaseCommerce">
					<button mat-icon-button (click)="selectedPaymentGateway='coinbase'">
						<mat-icon svgIcon="coinbase"></mat-icon>
					</button>
				</mat-grid-tile>
				<mat-grid-tile *ngIf="enableNowPayments">
					<button mat-icon-button (click)="selectedPaymentGateway='nowpayments'">
						<span id="nowpayments-button">
							<span class="bolded">NOW</span>Payments
						</span>
					</button>
				</mat-grid-tile>
			</mat-grid-list>
		</div>
	</div>
</section>